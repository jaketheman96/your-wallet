(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{39:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),i=a(23),o=(a(39),a(14)),l=a(10),d=a(32),u=a(33),h=a(4),j={email:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"ADD_EMAIL"===a?Object(h.a)(Object(h.a)({},e),{},{email:n}):e},p=a(16),O=a(8),m=a.n(O),x=function(e){return{type:"ADD_EMAIL",payload:e}},v=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://economia.awesomeapi.com.br/json/all",e.next=4,fetch("https://economia.awesomeapi.com.br/json/all");case 4:return t=e.sent,e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",{infos:a});case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),f="ADD_CURRENCIES",g=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:a=e.sent,t({type:f,payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y="ADD_EXPENSES",w=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:n=t.sent,e.exchangeRates=n.infos,a({type:y,payload:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return{type:"DELETE_ITEM",payload:e}},k={currencies:[],expenses:[],editor:!1,idToEdit:0},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=e.expenses;switch(a){case f:return Object(h.a)(Object(h.a)({},e),{},{currencies:Object.keys(n.infos).filter((function(e){return"USDT"!==e}))});case y:return Object(h.a)(Object(h.a)({},e),{},{expenses:r.concat(n)});case"DELETE_ITEM":return Object(h.a)(Object(h.a)({},e),{},{expenses:r.filter((function(e){return e.id!==Number(n)}))});default:return e}},N=Object(l.combineReducers)({user:b,wallet:D}),E=Object(l.createStore)(N,Object(d.composeWithDevTools)(Object(l.applyMiddleware)(u.a))),T=a(11),S=a(12),F=a(13),A=a(15),M=a(3),R=a(18),B=a(1),L=function(e){Object(F.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",isButtonDisabled:!0},e.handleClick=function(){var t=e.state.email,a=e.props,n=a.dispatch,r=a.history;n(x(t)),r.push("/carteira")},e.handleButton=function(){var t=e.state,a=t.password,n=t.email;a.length>=6&&n.match(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/)?e.setState({isButtonDisabled:!1}):e.setState({isButtonDisabled:!0})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(R.a)({},n,r),(function(){return e.handleButton()}))},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isButtonDisabled;return Object(B.jsx)("div",{className:"login",children:Object(B.jsxs)("form",{className:"loginForm",children:[Object(B.jsxs)("div",{className:"wallet-image",style:{display:"flex"},children:[Object(B.jsx)("h1",{style:{color:"grey"},children:"YourWallet!"}),Object(B.jsx)("img",{src:"https://media.discordapp.net/attachments/971614587029954591/994040120258867220/Design_sem_nome-removebg-preview.png",alt:"wallet",width:"50%"})]}),Object(B.jsxs)("label",{htmlFor:"email",className:"labelLogin",children:[Object(B.jsx)("p",{children:"Email: "}),Object(B.jsx)("input",{type:"email",id:"email",name:"email",value:t,"data-testid":"email-input",onChange:this.handleChange,className:"loginInput",required:!0})]}),Object(B.jsxs)("label",{htmlFor:"password",className:"labelLogin",children:[Object(B.jsx)("p",{children:"Password:"}),Object(B.jsx)("input",{type:"password",id:"password",name:"password",value:a,"data-testid":"password-input",onChange:this.handleChange,className:"loginInput",required:!0})]}),Object(B.jsx)("button",{type:"submit",onClick:this.handleClick,disabled:n,className:"loginButton",children:"Entrar"})]})})}}]),a}(r.a.Component),P=Object(o.b)()(L),I=function(e){Object(F.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){var a=t.target,n=e.props,r=n.dispatch,c=n.subtractTotal,s=a.id,i=a.value;r(C(s)),c(i)},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this,t=this.props.expenses;return Object(B.jsxs)("table",{className:"redTable",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(B.jsx)("th",{children:"Tag"}),Object(B.jsx)("th",{children:"M\xe9todo de pagamento"}),Object(B.jsx)("th",{children:"Valor"}),Object(B.jsx)("th",{children:"Moeda"}),Object(B.jsx)("th",{children:"C\xe2mbio utilizado"}),Object(B.jsx)("th",{children:"Valor convertido"}),Object(B.jsx)("th",{children:"Moeda de convers\xe3o"}),Object(B.jsx)("th",{children:"Excluir"})]})}),Object(B.jsx)("tbody",{children:t.map((function(t){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:t.description}),Object(B.jsx)("td",{children:t.tag}),Object(B.jsx)("td",{children:t.method}),Object(B.jsx)("td",{children:"".concat(Number(t.value).toFixed(2))}),Object(B.jsx)("td",{children:t.exchangeRates[t.currency].code}),Object(B.jsx)("td",{children:Number(t.exchangeRates[t.currency].ask).toFixed(2)}),Object(B.jsx)("td",{id:"value-converted",children:"".concat(Number(t.value*t.exchangeRates[t.currency].ask).toFixed(2)," BRL")}),Object(B.jsx)("td",{children:t.exchangeRates[t.currency].name}),Object(B.jsx)("td",{children:Object(B.jsx)("button",{type:"button","data-testid":"delete-btn",onClick:e.handleClick,id:t.id,value:Number(t.value*t.exchangeRates[t.currency].ask),children:"X"})})]},t.id)}))})]})}}]),a}(r.a.Component),_=Object(o.b)((function(e){var t=e.wallet.expenses;return Object(h.a)(Object(h.a)({},e),{},{expenses:t})}),null)(I),V=function(e){Object(F.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={id:0,value:0,currency:"USD",method:"",tag:"",description:"",totalPrice:0},e.componentDidMount=function(){(0,e.props.dispatch)(g())},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(R.a)({},n,r))},e.handleClick=function(){var t=Object(p.a)(m.a.mark((function t(a){var n,r,c,s,i,o,l,d,u;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.props.dispatch,r=e.state,c=r.id,s=r.value,i=r.description,o=r.currency,l=r.method,d=r.tag,e.setState((function(e){return{id:e.id+1}})),u={id:c,value:s,description:i,currency:o,method:l,tag:d},t.next=7,n(w(u));case 7:return t.next=9,e.sumTotalPrice();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.sumTotalPrice=Object(p.a)(m.a.mark((function t(){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=e.props.wallet.expenses)?(n=0,a.map((function(e){return e.value*e.exchangeRates[e.currency].ask})).forEach((function(e){n+=e})),e.setState({totalPrice:n.toFixed(2),value:0,description:"",currency:"USD",method:"",tag:""})):e.setState({totalPrice:0});case 2:case"end":return t.stop()}}),t)}))),e.subtractTotal=function(t){e.setState((function(e){return{totalPrice:(e.totalPrice-t).toFixed(2)}}))},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.wallet.currencies,n=this.state,r=n.value,c=n.description,s=n.currency,i=n.method,o=n.tag,l=n.totalPrice;return Object(B.jsxs)("div",{children:[Object(B.jsxs)("div",{className:"user-infos",children:[Object(B.jsx)("h3",{"data-testid":"email-field",className:"header-infos",children:"Ola ".concat(t)}),Object(B.jsx)("h3",{"data-testid":"total-field",className:"header-infos",children:"Total: ".concat(l," BRL")})]}),Object(B.jsxs)("form",{className:"form-expenses",children:[Object(B.jsxs)("label",{htmlFor:"value",children:[Object(B.jsx)("h3",{children:"Valor:"}),Object(B.jsx)("input",{type:"number",id:"value",name:"value","data-testid":"value-input",onChange:this.handleChange,value:r,className:"login-input"})]}),Object(B.jsxs)("label",{htmlFor:"currency","aria-label":"Moeda",children:[Object(B.jsx)("h3",{children:"Moeda"}),Object(B.jsx)("select",{id:"currency",name:"currency",onChange:this.handleChange,alue:s,children:a.map((function(e){return Object(B.jsx)("option",{value:e,children:e},e)}))})]}),Object(B.jsxs)("label",{htmlFor:"method",children:[Object(B.jsx)("h3",{children:"Metodo de pagamento:"}),Object(B.jsxs)("select",{"data-testid":"method-input",id:"method",name:"method",onChange:this.handleChange,value:i,children:[Object(B.jsx)("option",{defaultValue:"",children:"None selected"}),Object(B.jsx)("option",{value:"Cart\xe3o de cr\xe9dito",children:"Cart\xe3o de cr\xe9dito"}),Object(B.jsx)("option",{value:"Dinheiro",children:"Dinheiro"}),Object(B.jsx)("option",{value:"Cart\xe3o de d\xe9bito",children:"Cart\xe3o de d\xe9bito"})]})]}),Object(B.jsxs)("label",{htmlFor:"tag",children:[Object(B.jsx)("h3",{children:"Categoria:"}),Object(B.jsxs)("select",{"data-testid":"tag-input",id:"tag",onChange:this.handleChange,value:o,name:"tag",children:[Object(B.jsx)("option",{defaultValue:"",children:"None selected"}),Object(B.jsx)("option",{value:"Lazer",children:"Lazer"}),Object(B.jsx)("option",{value:"Alimenta\xe7\xe3o",children:"Alimenta\xe7\xe3o"}),Object(B.jsx)("option",{value:"Trabalho",children:"Trabalho"}),Object(B.jsx)("option",{value:"Transporte",children:"Transporte"}),Object(B.jsx)("option",{value:"Sa\xfade",children:"Sa\xfade"})]})]}),Object(B.jsxs)("label",{htmlFor:"description",children:[Object(B.jsx)("h3",{children:"Descri\xe7\xe3o:"}),Object(B.jsx)("input",{type:"text",id:"description",name:"description","data-testid":"description-input",onChange:this.handleChange,value:c,className:"login-input"})]}),Object(B.jsx)("button",{type:"submit",className:"add-expenses",onClick:this.handleClick,children:"Adicionar despesa"})]}),Object(B.jsx)(_,{subtractTotal:this.subtractTotal})]})}}]),a}(r.a.Component),U=Object(o.b)((function(e){var t=e.user.email;return Object(h.a)(Object(h.a)({},e),{},{user:t,wallet:e.wallet})}),null)(V),W=function(e){Object(F.a)(a,e);var t=Object(A.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return Object(B.jsxs)(M.c,{children:[Object(B.jsx)(M.a,{exact:!0,path:"/",component:P}),Object(B.jsx)(M.a,{path:"/carteira",component:U})]})}}]),a}(r.a.Component),z=W;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(B.jsx)(i.a,{children:Object(B.jsx)(o.a,{store:E,children:Object(B.jsx)(z,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.59c7b538.chunk.js.map